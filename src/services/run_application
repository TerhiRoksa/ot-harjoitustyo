import tkinter as tk
from ui.log import Log
from ui.view import View

class RunApplication:
    def __init__(self, root, login_system, calorie_counter):
        self.root = root
        self.login_system = login_system
        self.calorie_counter = calorie_counter

        # Luo kirjautumisnäkymä ja pidä se näkyvänä
        self.login_view = Log(self.root, self.login_system, self.on_login_success)
        self.login_view.show()

    def on_login_success(self):
        # Tämä funktio kutsutaan, kun kirjautuminen onnistuu
        # Piilota kirjautumisnäkymä
        self.login_view.hide()
        
        # Luo pääsovelluksen näkymä
        main_root = tk.Toplevel(self.root)
        main_view = View(main_root, self.login_system, self.calorie_counter)
        main_root.mainloop()

